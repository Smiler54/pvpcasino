/* Enhanced Jackpot Wheel Animations with Professional Easing */

/* Smooth easing functions for professional feel */
:root {
  /* Custom easing functions */
  --ease-wheel-spin: cubic-bezier(0.23, 1, 0.32, 1); /* Smooth deceleration */
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55); /* Gentle bounce */
  --ease-anticipation: cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Build-up and release */
  --ease-elastic: cubic-bezier(0.68, -0.6, 0.32, 1.6); /* Elastic effect */
  --ease-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smooth acceleration/deceleration */
}

/* Enhanced wheel spinning with premium easing */
.wheel-spinning {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
  transform: translate3d(0, 0, 0);
  -webkit-transform: translate3d(0, 0, 0);
  transition: transform 4s var(--ease-wheel-spin); /* Longer, smoother spin */
}

/* Wheel segment hover effects with smooth transitions */
.wheel-segment {
  transform-origin: center;
  -webkit-transform-origin: center;
  will-change: transform, opacity, filter;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transition: all 0.3s var(--ease-smooth);
}

.wheel-segment:hover {
  transform: translate3d(0, 0, 0) scale(1.02);
  filter: brightness(1.1);
}

/* Winner segment highlight animation */
.wheel-segment.winner {
  animation: winner-highlight 1s var(--ease-bounce) infinite alternate;
}

@keyframes winner-highlight {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
    filter: brightness(1) drop-shadow(0 0 10px currentColor);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1.05);
    filter: brightness(1.3) drop-shadow(0 0 25px currentColor);
  }
}

/* Enhanced RGB Border Animation with smooth transitions */
@keyframes rgb-cycle-enhanced {
  0% { 
    transform: translate3d(0, 0, 0) rotate(0deg);
    filter: hue-rotate(0deg) brightness(1.1) saturate(1.2);
  }
  25% { 
    transform: translate3d(0, 0, 0) rotate(90deg);
    filter: hue-rotate(90deg) brightness(1.3) saturate(1.4);
  }
  50% { 
    transform: translate3d(0, 0, 0) rotate(180deg);
    filter: hue-rotate(180deg) brightness(1.1) saturate(1.2);
  }
  75% { 
    transform: translate3d(0, 0, 0) rotate(270deg);
    filter: hue-rotate(270deg) brightness(1.3) saturate(1.4);
  }
  100% { 
    transform: translate3d(0, 0, 0) rotate(360deg);
    filter: hue-rotate(360deg) brightness(1.1) saturate(1.2);
  }
}

/* Smooth center display animations */
.wheel-center {
  transition: all 0.5s var(--ease-smooth);
}

.wheel-center.spinning {
  animation: center-pulse 2s var(--ease-smooth) infinite;
}

@keyframes center-pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

/* Enhanced confetti with staggered timing */
@keyframes confetti-fall {
  0% {
    transform: translate3d(0, -100vh, 0) rotate(0deg) scale(1);
    opacity: 1;
  }
  25% {
    transform: translate3d(10px, -50vh, 0) rotate(90deg) scale(0.8);
    opacity: 0.8;
  }
  50% {
    transform: translate3d(-5px, 0vh, 0) rotate(180deg) scale(1.2);
    opacity: 0.6;
  }
  75% {
    transform: translate3d(8px, 50vh, 0) rotate(270deg) scale(0.9);
    opacity: 0.4;
  }
  100% {
    transform: translate3d(0, 100vh, 0) rotate(360deg) scale(0.5);
    opacity: 0;
  }
}

/* Smooth countdown timer animations */
.countdown-timer {
  transition: all 0.3s var(--ease-smooth);
}

.countdown-urgent {
  animation: urgent-pulse 1s var(--ease-anticipation) infinite;
}

@keyframes urgent-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 hsl(var(--destructive) / 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 10px hsl(var(--destructive) / 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 hsl(var(--destructive) / 0);
  }
}

/* First user 100% slice with enhanced glow */
.first-user-slice {
  animation: enhanced-glow 2s var(--ease-smooth) infinite alternate;
}

@keyframes enhanced-glow {
  0% { 
    filter: drop-shadow(0 0 8px currentColor) brightness(1);
    opacity: 0.95;
    transform: scale(1);
  }
  100% { 
    filter: drop-shadow(0 0 20px currentColor) brightness(1.2);
    opacity: 1;
    transform: scale(1.02);
  }
}

/* Enhanced performance optimizations */
@media (max-width: 768px) {
  .wheel-spinning {
    transition-duration: 3.5s; /* Slightly longer on mobile for smoothness */
  }
  
  .rgb-border-animation {
    animation-duration: 6s; /* Slower on mobile to reduce CPU load */
    will-change: transform;
  }
  
  /* Reduced motion for battery saving */
  .confetti-container {
    contain: layout style paint;
  }
  
  /* Simplify animations on mobile */
  .wheel-segment:hover {
    transform: translate3d(0, 0, 0) scale(1.01);
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .wheel-spinning {
    transition-duration: 1.5s;
    transition-timing-function: ease-out;
  }
  
  .wheel-segment.winner {
    animation: none;
    filter: brightness(1.2);
  }
  
  .countdown-urgent {
    animation: none;
    transform: scale(1.02);
  }
  
  @keyframes confetti-fall {
    0% { opacity: 1; transform: translate3d(0, -10px, 0); }
    100% { opacity: 0; transform: translate3d(0, 10px, 0); }
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .wheel-segment {
    border-width: 2px;
    border-style: solid;
  }
  
  .wheel-center {
    border: 3px solid;
  }
}